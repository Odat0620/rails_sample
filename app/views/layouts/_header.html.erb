<header>
  <nav>
     <div class="top_link">
      <%= link_to "Trouringood", root_path, class: 'btn' %>
     </div>
      <!-- user_signed_in? はユーザがログインしているか調べるdeviseのHelperメソッド -->
     <div class="account_menu">
      <% if user_signed_in? %> 
          <!-- current_user は現在ログインしているUserオブジェクトを返すdeviseのHelperメソッド -->
          <!-- *_path はUserモデルを作成したときに、
          deviseにより自動で作成されてますので、rake routesで確認できます -->
          <p><strong><%= current_user.email %></strong>でログイン</p>
          <div class="dropdown">
            <button class="btn " type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <% if current_user.image? %>
                <%= image_tag(current_user.image.thumb30.url, class:"user-icon") %>
              <% else %>
                <%= image_tag("default30.jpg", class:"user-icon") %>
              <% end %>
            </button>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
              <%= link_to 'マイページ', mypage_path, class: 'dropdown-item' %>
              <%= link_to '設定', edit_user_registration_path, class: 'dropdown-item' %>
              <%= link_to "ログアウト", sign_out_path, class: 'dropdown-item' %>
            </div>
          </div>
      <% else %>
          <%= link_to "新規登録", new_user_registration_path, class: 'btn btn-outline-light btn-sm' %>
          <%= link_to "ログイン", new_user_session_path, class: 'btn btn-outline-light btn-sm' %>
     <% end %>
     </div>
  </nav>
</header>